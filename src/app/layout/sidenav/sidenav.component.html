<!-- [ngClass]="isSidebarReduced ? '  items-center justify-center transform -translate-x-full place-items-center w-1/4': ' bg-red-300'" -->
<!-- [ngClass]="isSidebarReduced ? '-translate-x-3/4 transform items-center justify-center ml-1 transition-all duration-300 ease-in  ': 'translate-x-0 w-64'" -->
<!-- class="hidden h-full  inset-y-0  lg:flex flex-col flex-shrink-0 w-64 max-h-screen overflow-hidden transition-all transform border-r bg-red-300 shadow-lg lg:static lg:shadow-lg" -->
<!-- [ngClass]=" isSidebarOpen ? ' transform -translate-x-full transition-all duration-300 w-64 ease-in ' : ' translate-x-full duration-300 ease-out w-0'" -->
<!-- [ngClass]="isSidebarReduced ? ' sm:w-12 bg-slate-500 transform place-items-center justify-center ml-1 transition-all duration-300 ease-in ': 'transform-none'" -->

<!-- // Critical to not put the width of the aside because it forces the sidebar to be of that size -->
<aside
class=" h-full  inset-y-0  sm:flex sm:flex-col max-h-screen overflow-hidden border-r bg-white shadow-lg lg:shadow-lg"
[ngClass]=" isSidebarOpen ? 'hidden transform transition-all duration-300  sm:w-60 ease-in ' : ' -translate-x-full duration-300 ease-out w-0 '"
[ngClass]="isSidebarReduced ? ' w-12 transform place-items-center justify-center ml-1 transition-all duration-300 ease-in bg-white': 'transform ease-out duration-300  w-60'"
[ngClass]=" isSidebarOpen && isSidebarReduced ? 'hidden transform transition-all duration-300  sm:w-12 ease-in ' : ' transform-none ease-out'"
>
  <div class="flex items-center   p-1">
    <span class="p-2 text-xl text-gray-500 font-semibold leading-8 tracking-wider  whitespace-nowrap border-b "
      [ngClass]="isSidebarReduced  ? ' hidden  place-content-start justify-center -translate-x-full': 'translate-x-0 w-0 top-0 place-content-start'">
      Yasin<span>-Dev</span>
    </span>
    <button (click)="isSidebarReduced = ! isSidebarReduced; toggleSidebarReduce.emit(isSidebarReduced)" class=" rounded-md border  border-sellar-primary mx-auto ">
      <mat-icon [ngClass]="{'transform transition-transform rotate-180 ': isSidebarReduced}" class="text-gray-400 scale-75 ">start</mat-icon>
    </button>
  </div>

  <nav class="px-2 space-y-2 overflow-y-auto mb-10 "
  [ngClass]="isSidebarReduced ? '  sm:w-12 transform place-items-center justify-center ml-1 transition-all duration-300 ease-in ': 'transform-none w-60'"
  >
    <div *ngFor=" let link of links;let i=index" >
      <a
      (click)="link.action = !link.action"
      class="cursor-pointer flex items-center p-1 text-gray-500 text-sm transition-colors rounded-md   hover:bg-gray-200 "
      [ngClass]="{'bg-primary-100': link.action}"
      role="button"  >
        <span aria-hidden="true" [ngClass]="isSidebarReduced ? ' items-center justify-center': 'translate-x-0 text-sm '">
          <mat-icon class="scale-75 text-gray-500 hover:text-white ">{{link.icon}}</mat-icon>
        </span>
        <span [ngClass]="isSidebarReduced ? 'hidden ': 'translate-x-0 '" [routerLink]=[link.url]>{{link.name}}</span>
        <!-- critical to put ml-auto on the span to keep the expand icon on the right -->
        <span *ngIf="link.children && link.children.length >0 " [ngClass]="isSidebarReduced ? 'hidden ': 'transition  duration-150 ease-in-out'"
        class="ml-auto hover:text-white"
        aria-hidden="true"

        >
          <mat-icon class="ml-auto scale-75 text-sellar-primary  transition-transform transform "
          [ngClass]="{ 'rotate-180': link.action}"
         >expand_more</mat-icon>
        </span>

      </a>
      <div *ngIf="!!link.children && link.children.length >0 && link.action == true " class="align-middle bg-gray-100 ">
        <a *ngFor="let sub of link.children; let i=index" class="text-sm flex flex-row place-items-center justify-items-start space-y-1 px-8 mx-auto cursor-pointer hover:bg-gray-200 ">
          <span aria-hidden="true" [ngClass]="isSidebarReduced ? ' items-center justify-center': 'translate-x-0 text-sm '">
          <mat-icon >{{link.children[i].icon}}</mat-icon>
          </span>
          <span
          role="menuitem"
          class="block p-2  text-sm text-gray-700 transition-colors duration-200 rounded-md hover:text-gray-700"
          [ngClass]="isSidebarReduced ? 'hidden ': 'translate-x-0 '" routerLink="{{link.children[i].url}}">
              {{ link.children[i].name }}
        </span>
        </a>

      </div>

    </div>

  </nav>

  <!-- Sidebar footer -->
  <div class="flex absolute bottom-0 p-0 border-t max-h-12 w-full">
    <button
      class="flex items-center justify-center w-full px-4 py-2 space-x-1 font-medium tracking-wider  bg-gray-100 border border-sellar-primary rounded-md focus:outline-none focus:ring">
      <span>
        <mat-icon class="scale-75 text-sellar-primary">logout</mat-icon>
      </span>
      <span [ngClass]="{'sm:hidden': isSidebarReduced}"> Logout </span>
    </button>
  </div>
</aside>
