<!-- // Critical to not put the width of the aside because it forces the sidebar to be of that size -->
<!-- se of aside for the entire side bar -->

<!--   [ngClass]=" isSidebarOpen ? 'hidden transform transition-all duration-300 ease-in ' : ' -translate-x-full transform duration-300 ease-out w-0 transition-all  '" -->

<!--   [ngClass]="isSidebarReduced ? ' w-12 transform place-items-center justify-center ml-1 transition-all duration-300 ease-in ': 'transform ease-out duration-300  w-60 bg-amber-600'"
  [ngClass]=" isSidebarOpen && isSidebarReduced ? 'hidden transform transition-all duration-300  sm:w-12 ease-in ' : ' transform-none ease-out'" -->
<aside
  class="  h-screen flex-col overflow-hidden bg-gray-100 border-collapse sm:drop-shadow-2xl "
  [ngClass]=" isSidebarOpen ? '  transform transition-all duration-300 ease-in ' : ' -translate-x-full transform duration-300 ease-out w-0 transition-all  '"
>
  <div class="flex flex-row pl-1 pr-1 bg-slate-300  shadow-xl border-2 ring-2 rounded-full place-items-center">
    <img src="/assets/img/logo.jpg" alt="" class="h-8 w-8 rounded-full scale-110 ">
    <span class="p-2 text-xl text-gray-500 font-semibold leading-8 tracking-wider  whitespace-nowrap border-b  "
      [ngClass]="isSidebarReduced  ? ' hidden ': 'translate-x-0 w-0 top-0 place-content-between'">
      Yasin<span>-Dev</span>
    </span>
    <button (click)="isSidebarReduced = ! isSidebarReduced; toggleSidebarReduce.emit(isSidebarReduced)"
      class=" rounded-md text-white bg-black place-self-auto right-0 border-2">
      <mat-icon [ngClass]="{'transform transition-transform rotate-180': isSidebarReduced}"
        class="text-white-400 scale-75 right-0 inset-0 ">start</mat-icon>
    </button>
  </div>

  <nav class=" px-2 space-y-2 overflow-y-scroll  pt-10 shadow-2xl h-full  bg-green-400"
    [ngClass]="isSidebarReduced ? 'sm:w-12 transform place-items-center justify-center ml-1 transition-all duration-300 ease-in': 'transform-none w-60 h-full'">

    <!-- <div class="absolute inset-0 bg-gradient-to-br from-slate-400 via-teal-100 to-transparent opacity-90"></div> -->
    <div *ngFor=" let link of links;let i=index" class="focus:bg-yellow-200 hover:bg-slate-200">
      <a (click)="link.action = !link.action"
        class="cursor-pointer flex items-center p-1 text-gray-500 text-sm transition-colors rounded-t-sm mr-1  align-middle "
        role="button">
      <!-- icon de chaque lien du sidebar -->
        <span aria-hidden="true"
          [ngClass]="isSidebarReduced ? ' items-center justify-center': 'translate-x-0 text-sm '">
          <mat-icon class="scale-75 text-gray-500 hover:text-white ">{{link.icon}}</mat-icon>
        </span>
        <!-- Nom de chaque menu du lien sidebar -->
        <span [ngClass]="isSidebarReduced ? 'hidden ': 'translate-x-0 pl-2'"
          [routerLink]=[link.url]>{{link.name}}</span>
        <!-- critical to put ml-auto on the span to keep the expand icon on the right -->
        <!--  condition pour les menus ayant des sous menus -->
        <span *ngIf="link.children && link.children.length >0"
          [ngClass]="isSidebarReduced ? ' hidden ': 'transition duration-300 ease-in'"
          class="ml-auto hover:text-white">
          <!-- csmall chevron svg -->
          <svg class="-mr-1 ml-2 h-5 w-5  scale-75 text-sellar-primary  transition-transform transform "
            [ngClass]="{ 'rotate-180': link.action}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
            fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
              clip-rule="evenodd" />
          </svg>

        </span>

      </a>
      <div *ngIf="!!link.children && link.children.length >0 && link.action == true "
        class="align-middle border-t-inherit ">
        <!-- rounded-md duration-300 transform transition-transform  -->
        <!-- [ngClass]="{'active': 'bg-sellar-primary'}" -->
        <a *ngFor="let sub of link.children; let i=index"
          class="text-sm flex flex-row place-items-center justify-items-start space-y-1 px-8 mx-auto cursor-pointer hover:bg-gray-300 bg-red-300"

          >
          <span aria-hidden="true"
            [ngClass]="isSidebarReduced ? ' items-center justify-center': 'translate-x-0 text-sm '">
            <mat-icon>{{link.children[i].icon}}</mat-icon>
          </span>
          <span role="menuitem"
            class="block p-2 text-sm text-gray-700 transition-colors duration-200 rounded-md hover:text-gray-700"
            [ngClass]="isSidebarReduced ? ' hidden ': 'translate-x-0 '" routerLink="{{link.children[i].url}}">
            {{ link.children[i].name }}
          </span>
        </a>

      </div>

    </div>

  </nav>

  <!-- Sidebar footer -->
  <div class="flex absolute bottom-0 p-0 border-t max-h-10 w-60 bg-white">
    <button
      class="flex items-center justify-center w-full px-4 py-2 space-x-1 font-medium tracking-wider  bg-gray-100 border border-sellar-primary rounded-md focus:outline-none focus:ring">
      <span>
        <mat-icon class="scale-75 text-sellar-primary">logout</mat-icon>
      </span>
      <span [ngClass]="{'sm:hidden': isSidebarReduced }"> Logout </span>
    </button>
  </div>
</aside>
